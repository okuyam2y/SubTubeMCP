# 📚 YouTube MCP Server - Claude Desktop 使い方ガイド

## 🔍 動画検索

### 基本検索
```
TypeScriptのチュートリアル動画を探して
```

### 最新動画を検索
```
React 19の最新動画を10件見せて（今週アップロード順）
```

### 人気順で検索
```
プログラミング入門の人気動画を探して（再生回数順）
```

## 📊 動画メタデータ取得

### 基本情報
```
この動画の詳細情報を教えて
https://www.youtube.com/watch?v=xxxxx
```

### 再生回数や評価
```
この動画の再生回数といいね数を確認して
https://www.youtube.com/watch?v=xxxxx
```

## 📝 字幕・トランスクリプト取得

### 日本語字幕（デフォルト）
```
この動画の字幕を取得して
https://www.youtube.com/watch?v=xxxxx
```

### 結論重視で取得
```
この動画の内容を結論重視で要約して（summaryモード）
https://www.youtube.com/watch?v=xxxxx
```

### 英語字幕
```
この動画の英語字幕を取得して
https://www.youtube.com/watch?v=xxxxx
```

### 全体をバランスよく
```
この動画の内容を冒頭・中盤・結論でバランスよく取得して（smartモード）
https://www.youtube.com/watch?v=xxxxx
```

## 💬 コメント取得

### 全コメント取得
```
この動画のコメントを全部取得して
https://www.youtube.com/watch?v=xxxxx
```

### 最新コメント
```
この動画の最新コメントを50件見せて
https://www.youtube.com/watch?v=xxxxx
```

### 日本語コメントのみ
```
この動画の日本語コメントだけ抽出して
https://www.youtube.com/watch?v=xxxxx
```

### 人気コメント
```
この動画の人気コメントトップ20を見せて
https://www.youtube.com/watch?v=xxxxx
```

## 📺 チャンネル情報

### チャンネル統計
```
このチャンネルの登録者数と総再生回数を教えて
チャンネルID: UCxxxxx
```

### 最新動画一覧（リアルタイム取得）
```
このチャンネルの最新動画10本を見せて
チャンネルID: UCxxxxx
```
※ yt-dlpが利用可能な場合、リアルタイムで最新動画を取得（APIキャッシュ遅延なし）

### 人気動画順
```
このチャンネルの人気動画トップ5を教えて（再生回数順）
チャンネルID: UCxxxxx
```


## 🌍 トレンド動画

### 日本のトレンド
```
日本で今トレンドの動画を10本見せて
```

### アメリカのトレンド
```
アメリカ（US）のトレンド動画を教えて
```

### カテゴリ別トレンド
```
日本のゲームカテゴリでトレンドの動画を見せて
```

## 📥 字幕ダウンロード

### 日本語字幕ファイル
```
この動画の日本語字幕をSRT形式でダウンロードして
https://www.youtube.com/watch?v=xxxxx
```

### 利用可能な字幕一覧
```
この動画で利用できる字幕の言語を全部教えて
https://www.youtube.com/watch?v=xxxxx
```

### 自動生成字幕
```
この動画の自動生成された日本語字幕を取得して
https://www.youtube.com/watch?v=xxxxx
```

## 🎯 応用的な使い方

### 動画の要約作成
```
この動画を見て、主要なポイントを3つにまとめて
https://www.youtube.com/watch?v=xxxxx
```

### 複数動画の比較
```
1. このチャンネルの最新動画3本を取得して
2. それぞれの再生回数を比較して
チャンネルID: UCxxxxx
```

### コメント分析
```
この動画のコメントを全部取得して、ポジティブ/ネガティブな意見を分析して
https://www.youtube.com/watch?v=xxxxx
```

### 学習コンテンツ検索
```
1. Pythonの初心者向け動画を最新順で5本探して
2. それぞれの動画時間と概要を表にまとめて
```

## 💡 便利なTips

### 取得モードの指定方法
- **「全部」「すべて」「詳細」** → fullモード（冒頭から順次取得）
- **「バランスよく」「概要」** → smartモード（冒頭20%・中盤30%・結論50%）
- **「結論」「まとめ」「要約」** → summaryモード（結論70%重視）

### 言語指定
- 指定なし → 日本語優先
- **「英語で」** → 英語字幕/コメント
- **「日本語の」** → 日本語フィルタ

### 並び順
- **「最新」「新しい順」** → 日付順
- **「人気」「再生回数順」** → 視聴回数順
- **「評価順」** → 高評価順

## ⚠️ 制限事項

1. **コメント**: 最大10ページ（約1000件）
2. **検索結果**: 最大50件
3. **字幕**: 長い動画は5000セグメントに制限（約6時間分、モードで調整可）
4. **API制限**: 1日のクォータ制限あり

## 🚀 おすすめの使い方

### 動画を深く理解したい時
```
1. この動画の詳細情報を取得
2. 字幕をsummaryモードで取得して要点を把握
3. コメントを見て視聴者の反応を確認
```

### リサーチしたい時
```
1. キーワードで動画を検索（最新順）
2. 上位5本の概要を比較
3. 最も評価の高い動画の内容を詳しく分析
```

## 🛠️ 技術的な詳細

### 利用可能なツール一覧

| ツール名 | 説明 | APIキー |
|---------|------|---------|
| search_videos | 動画検索 | 必要 |
| get_video_metadata | 動画詳細情報取得 | 不要 |
| get_transcript | 字幕取得（3モード対応） | 不要 |
| download_subtitles | 字幕ファイルダウンロード | 不要 |
| list_available_subtitles | 利用可能字幕一覧 | 不要 |
| get_comments | コメント取得（ページネーション対応） | 必要 |
| get_channel_stats | チャンネル統計 | 必要 |
| get_channel_videos | チャンネル動画一覧（yt-dlp自動使用） | 必要 |
| get_trending_videos | トレンド動画 | 必要 |

### トランスクリプトモード詳細

| モード | 説明 | 配分 | 最適な用途 |
|--------|------|------|------------|
| full (デフォルト) | 順次取得型 | 冒頭から順番に取得 | 詳細な分析、議事録作成 |
| smart | バランス型 | 冒頭20% + 中盤30% + 結論50% | 長い動画の概要把握 |
| summary | 結論重視型 | 冒頭10% + 中盤20% + 結論70% | 結論・まとめを重視したい場合 |

**字幕クリーニング機能（自動適用）:**
- プログレッシブ重複の除去（段階的に増える字幕の重複を削除）
- 話者ラベルの保持（【Speaker】などの文脈情報を維持）
- ノイズ除去（[音楽]、♪♪♪などを削除）
- 文字正規化（半角カタカナ→全角、HTMLエンティティのデコード）

### パラメータ例

#### search_videos
```json
{
  "query": "検索キーワード",
  "maxResults": 10,
  "order": "date"  // date, rating, relevance, viewCount
}
```

#### get_transcript
```json
{
  "videoId": "動画ID",
  "lang": "ja",  // ja, en, ko, etc.
  "mode": "full",  // full, smart, summary
  "maxSegments": 5000  // デフォルト5000（約6時間分）
}
```

#### get_comments
```json
{
  "videoId": "動画ID",
  "maxResults": 100,
  "sortBy": "relevance",  // relevance, new
  "lang": "ja",
  "fetchAll": true  // 全コメント取得
}
```

## 📝 更新履歴

- **v1.5.0**: プログレッシブ重複削除、話者ラベル保持、maxSegments 5000対応
- **v1.4.0**: 使い方ガイド追加、コードモジュール化
- **v1.3.0**: コメント全数取得機能追加（ページネーション対応）
- **v1.2.0**: トランスクリプトのインテリジェントサンプリング機能追加（3モード）
- **v1.1.0**: 日本語字幕のデフォルト化、yt-dlpフォールバック強化
- **v1.0.0**: 初回リリース

---

これらの聞き方を参考に、自然な日本語でClaude Desktopに質問してください！